

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Ember.js - Routing: Preventing and Retrying Transitions</title>
    <link rel="shortcut icon" href="/website-old-builds/v1.0.0/images/favicon.png" />
    <link href="/website-old-builds/v1.0.0/stylesheets/site.css" media="screen" rel="stylesheet" type="text/css" />
    <link href="/website-old-builds/v1.0.0/stylesheets/highlight.css" media="screen" rel="stylesheet" type="text/css" />
    <link href="http://emberjs.com/blog/feed.xml" rel="alternate" type="application/atom+xml" title="Ember.js - Blog" />

    <script type="text/javascript">
      var _gaq = _gaq || [];
      var pluginUrl = '//www.google-analytics.com/plugins/ga/inpage_linkid.js';
      _gaq.push(['_require', 'inpage_linkid', pluginUrl]);
      _gaq.push(['_setAccount', 'UA-27675533-1']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>

<!--[if lt IE 9]>
    <script type="text/javascript" src="/website-old-builds/v1.0.0/javascripts/common-old-ie.js"></script>
<![endif]-->
<!--[if gte IE 9]><!-->
    <script type="text/javascript" src="/website-old-builds/v1.0.0/javascripts/common-modern.js"></script>
<!--<![endif]-->

    
    <script type="text/javascript" src="/website-old-builds/v1.0.0/javascripts/guides.js"></script>
  
  </head>

  <body class="guides guides_routing guides_routing_preventing-and-retrying-transitions guides_routing_preventing-and-retrying-transitions_index">
    <div id="header">
      <div id="wrapper">
        <a id="logo" href="/website-old-builds/v1.0.0/">&nbsp;</a>
        <ul id="nav">
          <li><a href="/website-old-builds/v1.0.0/about">about</a></li>
          <li class="active"><a href="/website-old-builds/v1.0.0/guides">guides</a></li>
          <li><a href="/website-old-builds/v1.0.0/api">api</a></li>
          <li><a href="/website-old-builds/v1.0.0/community">community</a></li>
          <li><a href="/website-old-builds/v1.0.0/blog">blog</a></li>
          <li><a href="/website-old-builds/v1.0.0/builds">builds</a></li>
          <li id="search">
            <form>
              <input type="text" id="st-search-input" class="st-search-input" />
            </form>
            <div id="st-results-container"></div>
          </li>
        </ul>

        <div id="github">
          <a href="https://github.com/emberjs/ember.js"><img src="/website-old-builds/v1.0.0/images/fork-us.png">Fork Us!</a>
        </div>
      </div>
    </div>

    <div id="content-wrapper">
      
      
        <div id="sidebar">
          
    <ol id="toc-list">
          <li class="level-1">
            <a href="/website-old-builds/v1.0.0/guides/getting-started">Getting Started</a>
            <ol>
        
            <li class="level-3">
              <a href="/website-old-builds/v1.0.0/guides/getting-started">Getting Started</a>
            </li>
          
            <li class="level-3">
              <a href="/website-old-builds/v1.0.0/guides/getting-started/planning-the-application">Planning The Application</a>
            </li>
          
            <li class="level-3">
              <a href="/website-old-builds/v1.0.0/guides/getting-started/creating-a-static-mockup">Creating a Static Mockup</a>
            </li>
          
            <li class="level-3">
              <a href="/website-old-builds/v1.0.0/guides/getting-started/obtaining-emberjs-and-dependencies">Obtaining Ember.js and Dependencies</a>
            </li>
          
            <li class="level-3">
              <a href="/website-old-builds/v1.0.0/guides/getting-started/adding-a-route-and-template">Adding the First Route and Template</a>
            </li>
          
            <li class="level-3">
              <a href="/website-old-builds/v1.0.0/guides/getting-started/modeling-data">Modeling Data</a>
            </li>
          
            <li class="level-3">
              <a href="/website-old-builds/v1.0.0/guides/getting-started/using-fixutres">Using Fixtures</a>
            </li>
          
            <li class="level-3">
              <a href="/website-old-builds/v1.0.0/guides/getting-started/displaying-model-data">Displaying Model Data</a>
            </li>
          
            <li class="level-3">
              <a href="/website-old-builds/v1.0.0/guides/getting-started/displaying-a-models-completeness">Displaying a Model's Complete State</a>
            </li>
          
            <li class="level-3">
              <a href="/website-old-builds/v1.0.0/guides/getting-started/creating-a-new-model">Creating a New Model Instance</a>
            </li>
          
            <li class="level-3">
              <a href="/website-old-builds/v1.0.0/guides/getting-started/marking-a-model-as-complete-incomplete">Marking a Model as Complete or Incomplete</a>
            </li>
          
            <li class="level-3">
              <a href="/website-old-builds/v1.0.0/guides/getting-started/displaying-the-number-of-incomplete-todos">Displaying the Number of Incomplete Todos</a>
            </li>
          
            <li class="level-3">
              <a href="/website-old-builds/v1.0.0/guides/getting-started/toggle-todo-editing-state">Toggling between Showing and Editing States</a>
            </li>
          
            <li class="level-3">
              <a href="/website-old-builds/v1.0.0/guides/getting-started/accepting-edits">Accepting Edits</a>
            </li>
          
            <li class="level-3">
              <a href="/website-old-builds/v1.0.0/guides/getting-started/deleting-todos">Deleting a Model</a>
            </li>
          
            <li class="level-3">
              <a href="/website-old-builds/v1.0.0/guides/getting-started/adding-child-routes">Adding Child Routes</a>
            </li>
          
            <li class="level-3">
              <a href="/website-old-builds/v1.0.0/guides/getting-started/show-only-incomplete-todos">Transitioning to Show Only Incomplete Todos</a>
            </li>
          
            <li class="level-3">
              <a href="/website-old-builds/v1.0.0/guides/getting-started/show-only-complete-todos">Transitioning to Show Only Complete Todos</a>
            </li>
          
            <li class="level-3">
              <a href="/website-old-builds/v1.0.0/guides/getting-started/show-all-todos-again">Transitioning back to Show All Todos</a>
            </li>
          
            <li class="level-3">
              <a href="/website-old-builds/v1.0.0/guides/getting-started/display-a-button-to-remove-completed-todos">Displaying a Button to Remove All Completed Todos</a>
            </li>
          
            <li class="level-3">
              <a href="/website-old-builds/v1.0.0/guides/getting-started/show-when-all-todos-are-complete">Indicating When All Todos Are Complete</a>
            </li>
          
            <li class="level-3">
              <a href="/website-old-builds/v1.0.0/guides/getting-started/toggle-all-todos">Toggling All Todos Between Complete and Incomplete</a>
            </li>
          
            <li class="level-3">
              <a href="/website-old-builds/v1.0.0/guides/getting-started/using-other-adapters">Replacing the Fixture Adapter with Another Adapter</a>
            </li>
          </ol></li>
          <li class="level-1">
            <a href="/website-old-builds/v1.0.0/guides/concepts/core-concepts">Concepts</a>
            <ol>
        
            <li class="level-3">
              <a href="/website-old-builds/v1.0.0/guides/concepts/core-concepts">Core Concepts</a>
            </li>
          
            <li class="level-3">
              <a href="/website-old-builds/v1.0.0/guides/concepts/naming-conventions">Naming Conventions</a>
            </li>
          </ol></li>
          <li class="level-1">
            <a href="/website-old-builds/v1.0.0/guides/application">Application</a>
            <ol>
        
            <li class="level-3">
              <a href="/website-old-builds/v1.0.0/guides/application">Introduction</a>
            </li>
          </ol></li>
          <li class="level-1">
            <a href="/website-old-builds/v1.0.0/guides/templates/the-application-template">Templates</a>
            <ol>
        
            <li class="level-3">
              <a href="/website-old-builds/v1.0.0/guides/templates/the-application-template">The Application Template</a>
            </li>
          
            <li class="level-3">
              <a href="/website-old-builds/v1.0.0/guides/templates/handlebars-basics">Handlebars Basics</a>
            </li>
          
            <li class="level-3">
              <a href="/website-old-builds/v1.0.0/guides/templates/conditionals">Conditionals</a>
            </li>
          
            <li class="level-3">
              <a href="/website-old-builds/v1.0.0/guides/templates/displaying-a-list-of-items">Displaying a List of Items</a>
            </li>
          
            <li class="level-3">
              <a href="/website-old-builds/v1.0.0/guides/templates/changing-scope">Changing Scope</a>
            </li>
          
            <li class="level-3">
              <a href="/website-old-builds/v1.0.0/guides/templates/binding-element-attributes">Binding Element Attributes</a>
            </li>
          
            <li class="level-3">
              <a href="/website-old-builds/v1.0.0/guides/templates/binding-element-class-names">Binding Element Class Names</a>
            </li>
          
            <li class="level-3">
              <a href="/website-old-builds/v1.0.0/guides/templates/links">Links</a>
            </li>
          
            <li class="level-3">
              <a href="/website-old-builds/v1.0.0/guides/templates/actions">Actions</a>
            </li>
          
            <li class="level-3">
              <a href="/website-old-builds/v1.0.0/guides/templates/rendering-with-helpers">Rendering with Helpers</a>
            </li>
          
            <li class="level-3">
              <a href="/website-old-builds/v1.0.0/guides/templates/writing-helpers">Writing Helpers</a>
            </li>
          </ol></li>
          <li class="level-1 selected">
            <a href="/website-old-builds/v1.0.0/guides/routing">Routing</a>
            <ol class='selected'>
        
            <li class="level-3">
              <a href="/website-old-builds/v1.0.0/guides/routing">Introduction</a>
            </li>
          
            <li class="level-3">
              <a href="/website-old-builds/v1.0.0/guides/routing/defining-your-routes">Defining Your Routes</a>
            </li>
          
            <li class="level-3">
              <a href="/website-old-builds/v1.0.0/guides/routing/generated-objects">Generated Objects</a>
            </li>
          
            <li class="level-3">
              <a href="/website-old-builds/v1.0.0/guides/routing/specifying-a-routes-model">Specifying a Route's Model</a>
            </li>
          
            <li class="level-3">
              <a href="/website-old-builds/v1.0.0/guides/routing/setting-up-a-controller">Setting Up a Controller</a>
            </li>
          
            <li class="level-3">
              <a href="/website-old-builds/v1.0.0/guides/routing/rendering-a-template">Rendering a Template</a>
            </li>
          
            <li class="level-3">
              <a href="/website-old-builds/v1.0.0/guides/routing/redirection">Redirecting</a>
            </li>
          
            <li class="level-3">
              <a href="/website-old-builds/v1.0.0/guides/routing/specifying-the-location-api">Specifying the URL Type</a>
            </li>
          
            <li class="level-3">
              <a href="/website-old-builds/v1.0.0/guides/routing/asynchronous-routing">Asynchronous Routing</a>
            </li>
          
            <li class="level-3 sub-selected">
              <a href="/website-old-builds/v1.0.0/guides/routing/preventing-and-retrying-transitions">Preventing and Retrying Transitions</a>
            </li>
          </ol></li>
          <li class="level-1">
            <a href="/website-old-builds/v1.0.0/guides/components">Components</a>
            <ol>
        
            <li class="level-3">
              <a href="/website-old-builds/v1.0.0/guides/components">Introduction</a>
            </li>
          
            <li class="level-3">
              <a href="/website-old-builds/v1.0.0/guides/components/defining-a-component">Defining a Component</a>
            </li>
          
            <li class="level-3">
              <a href="/website-old-builds/v1.0.0/guides/components/passing-properties-to-a-component">Passing Properties to a Component</a>
            </li>
          
            <li class="level-3">
              <a href="/website-old-builds/v1.0.0/guides/components/wrapping-content-in-a-component">Wrapping Content in a Component</a>
            </li>
          
            <li class="level-3">
              <a href="/website-old-builds/v1.0.0/guides/components/customizing-a-components-element">Customizing a Component's Element</a>
            </li>
          
            <li class="level-3">
              <a href="/website-old-builds/v1.0.0/guides/components/handling-user-interaction-with-actions">Handling User Interaction with Actions</a>
            </li>
          
            <li class="level-3">
              <a href="/website-old-builds/v1.0.0/guides/components/sending-actions-from-components-to-your-application">Sending Actions from Components to Your Application</a>
            </li>
          </ol></li>
          <li class="level-1">
            <a href="/website-old-builds/v1.0.0/guides/controllers">Controllers</a>
            <ol>
        
            <li class="level-3">
              <a href="/website-old-builds/v1.0.0/guides/controllers">Introduction</a>
            </li>
          
            <li class="level-3">
              <a href="/website-old-builds/v1.0.0/guides/controllers/representing-a-single-model-with-objectcontroller">Representing a Single Model with ObjectController</a>
            </li>
          
            <li class="level-3">
              <a href="/website-old-builds/v1.0.0/guides/controllers/representing-multiple-models-with-arraycontroller">Representing Multiple Models with ArrayController</a>
            </li>
          
            <li class="level-3">
              <a href="/website-old-builds/v1.0.0/guides/controllers/dependencies-between-controllers">Managing Dependencies Between Controllers</a>
            </li>
          </ol></li>
          <li class="level-1">
            <a href="/website-old-builds/v1.0.0/guides/models">Models</a>
            <ol>
        
            <li class="level-3">
              <a href="/website-old-builds/v1.0.0/guides/models">Introduction</a>
            </li>
          
            <li class="level-3">
              <a href="/website-old-builds/v1.0.0/guides/models/defining-a-store">Defining a Store</a>
            </li>
          
            <li class="level-3">
              <a href="/website-old-builds/v1.0.0/guides/models/defining-models">Defining Models</a>
            </li>
          
            <li class="level-3">
              <a href="/website-old-builds/v1.0.0/guides/models/finding-models">Finding Models</a>
            </li>
          
            <li class="level-3">
              <a href="/website-old-builds/v1.0.0/guides/models/modifying-attributes">Modifying Attributes</a>
            </li>
          
            <li class="level-3">
              <a href="/website-old-builds/v1.0.0/guides/models/model-lifecycle">Model Lifecycle</a>
            </li>
          
            <li class="level-3">
              <a href="/website-old-builds/v1.0.0/guides/models/the-fixture-adapter">The Fixture Adapter</a>
            </li>
          
            <li class="level-3">
              <a href="/website-old-builds/v1.0.0/guides/models/the-rest-adapter">The REST Adapter</a>
            </li>
          </ol></li>
          <li class="level-1">
            <a href="/website-old-builds/v1.0.0/guides/views">Views</a>
            <ol>
        
            <li class="level-3">
              <a href="/website-old-builds/v1.0.0/guides/views">Introduction</a>
            </li>
          
            <li class="level-3">
              <a href="/website-old-builds/v1.0.0/guides/views/defining-a-view">Defining a View</a>
            </li>
          
            <li class="level-3">
              <a href="/website-old-builds/v1.0.0/guides/views/handling-events">Handling Events</a>
            </li>
          
            <li class="level-3">
              <a href="/website-old-builds/v1.0.0/guides/views/inserting-views-in-templates">Inserting Views in Templates</a>
            </li>
          
            <li class="level-3">
              <a href="/website-old-builds/v1.0.0/guides/views/adding-layouts-to-views">Adding Layouts to Views</a>
            </li>
          
            <li class="level-3">
              <a href="/website-old-builds/v1.0.0/guides/views/customizing-a-views-element">Customizing a View's Element</a>
            </li>
          
            <li class="level-3">
              <a href="/website-old-builds/v1.0.0/guides/views/built-in-views">Built-in Views</a>
            </li>
          
            <li class="level-3">
              <a href="/website-old-builds/v1.0.0/guides/views/manually-managing-view-hierarchy">Manually Managing View Hierarchy</a>
            </li>
          </ol></li>
          <li class="level-1">
            <a href="/website-old-builds/v1.0.0/guides/object-model/classes-and-instances">The Object Model</a>
            <ol>
        
            <li class="level-3">
              <a href="/website-old-builds/v1.0.0/guides/object-model/classes-and-instances">Classes and Instances</a>
            </li>
          
            <li class="level-3">
              <a href="/website-old-builds/v1.0.0/guides/object-model/computed-properties">Computed Properties</a>
            </li>
          
            <li class="level-3">
              <a href="/website-old-builds/v1.0.0/guides/object-model/computed-properties-and-aggregate-data">Computed Properties and Aggregate Data with @each</a>
            </li>
          
            <li class="level-3">
              <a href="/website-old-builds/v1.0.0/guides/object-model/observers">Observers</a>
            </li>
          
            <li class="level-3">
              <a href="/website-old-builds/v1.0.0/guides/object-model/bindings">Bindings</a>
            </li>
          
            <li class="level-3">
              <a href="/website-old-builds/v1.0.0/guides/object-model/reopening-classes-and-instances">Reopening Classes and Instances</a>
            </li>
          
            <li class="level-3">
              <a href="/website-old-builds/v1.0.0/guides/object-model/what-do-i-use-when">Bindings, Observers, Computed Properties: What Do I Use When?</a>
            </li>
          </ol></li>
          <li class="level-1">
            <a href="/website-old-builds/v1.0.0/guides/enumerables">Enumerables</a>
            <ol>
        
            <li class="level-3">
              <a href="/website-old-builds/v1.0.0/guides/enumerables">Introduction</a>
            </li>
          </ol></li>
          <li class="level-1">
            <a href="/website-old-builds/v1.0.0/guides/testing/integration">Testing</a>
            <ol>
        
            <li class="level-3">
              <a href="/website-old-builds/v1.0.0/guides/testing/integration">Integration Testing</a>
            </li>
          </ol></li>
          <li class="level-1">
            <a href="/website-old-builds/v1.0.0/guides/configuring-ember/disabling-prototype-extensions">Configuring Ember.js</a>
            <ol>
        
            <li class="level-3">
              <a href="/website-old-builds/v1.0.0/guides/configuring-ember/disabling-prototype-extensions">Disabling Prototype Extensions</a>
            </li>
          
            <li class="level-3">
              <a href="/website-old-builds/v1.0.0/guides/configuring-ember/embedding-applications">Embedding Applications</a>
            </li>
          </ol></li>
          <li class="level-1">
            <a href="/website-old-builds/v1.0.0/guides/understanding-ember/the-view-layer">Understanding Ember.js</a>
            <ol>
        
            <li class="level-3">
              <a href="/website-old-builds/v1.0.0/guides/understanding-ember/the-view-layer">The View Layer</a>
            </li>
          
            <li class="level-3">
              <a href="/website-old-builds/v1.0.0/guides/understanding-ember/managing-asynchrony">Managing Asynchrony</a>
            </li>
          
            <li class="level-3">
              <a href="/website-old-builds/v1.0.0/guides/understanding-ember/keeping-templates-up-to-date">Keeping Templates Up-to-Date</a>
            </li>
          
            <li class="level-3">
              <a href="/website-old-builds/v1.0.0/guides/understanding-ember/debugging">Debugging</a>
            </li>
          </ol></li></ol>
  
          <div id="back-to-top"><a id="back-top-top" href="#">&#11014; Back to Top</a></div>
        </div>
      
      <div id="content" class="has-sidebar">
          
  

  
  <div class="chapter">
    
        <h1>Preventing and Retrying Transitions 
          <a href="https://github.com/emberjs/website/tree/master/source/guides/routing/preventing-and-retrying-transitions.md" target="_blank" class="edit-page">
            Edit Page</a>
        </h1>
      
    <hr>
    <p>During a route transition, the Ember Router passes a transition
object to the various hooks on the routes involved in the transition.
Any hook that has access to this transition object has the ability
to immediately abort the transition by calling <code>transition.abort()</code>, 
and if the transition object is stored, it can be re-attempted at a 
later time by calling <code>transition.retry()</code>.</p>
<h3 class='anchorable-toc' id='toc_preventing-transitions-via-code-willtransition-code'>Preventing Transitions via <code>willTransition</code></h3>
<p>When a transition is attempted, whether via <code>{{link-to}}</code>, <code>transitionTo</code>,
or a URL change, a <code>willTransition</code> event is fired on the currently
active routes. This gives each active route, starting with the leaf-most
route, the opportunity to decide whether or not the transition should occur.</p>

<p>Imagine your app is in a route that&#39;s displaying a complex form for the user
to fill out and the user accidentally navigates backwards. Unless the
transition is prevented, the user might lose all of the progress they
made on the form, which can make for a pretty frustrating user experience.</p>

<p>Here&#39;s one way this situation could be handled:</p>
<div class="highlight js "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
<strong>10</strong>
11
12
13
14
</pre></td>
  <td class="code"><pre>App.FormRoute = Ember.Route.extend({
  <span class="key">actions</span>: {
    <span class="function">willTransition</span>: <span class="keyword">function</span>(transition) {
      <span class="keyword">if</span> (<span class="local-variable">this</span>.controllerFor(<span class="string"><span class="delimiter">'</span><span class="content">form</span><span class="delimiter">'</span></span>).get(<span class="string"><span class="delimiter">'</span><span class="content">userHasEnteredData</span><span class="delimiter">'</span></span>) &amp;&amp;
          !confirm(<span class="string"><span class="delimiter">&quot;</span><span class="content">Are you sure you want to abandon progress?</span><span class="delimiter">&quot;</span></span>)) {
        transition.abort();
      } <span class="keyword">else</span> {
        <span class="comment">// Bubble the `willTransition` event so that</span>
        <span class="comment">// parent routes can decide whether or not to abort.</span>
        <span class="keyword">return</span> <span class="predefined-constant">true</span>;
      }
    }
  }
});
</pre></td>
</tr></table>
</div></div><h3 class='anchorable-toc' id='toc_aborting-transitions-within-code-model-code-code-beforemodel-code-code-aftermodel-code'>Aborting Transitions Within <code>model</code>, <code>beforeModel</code>, <code>afterModel</code></h3>
<p>The <code>model</code>, <code>beforeModel</code>, and <code>afterModel</code> hooks described in
<a href="/website-old-builds/v1.0.0/guides/routing/asynchronous-routing">Asynchronous Routing</a>
each get called with a transition object. This makes it possible for
destination routes to abort attempted transitions.</p>
<div class="highlight js "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
</pre></td>
  <td class="code"><pre>App.DiscoRoute = Ember.Route.extend({
  <span class="function">beforeModel</span>: <span class="keyword">function</span>(transition) {
    <span class="keyword">if</span> (<span class="keyword">new</span> Date() &lt; <span class="keyword">new</span> Date(<span class="string"><span class="delimiter">&quot;</span><span class="content">January 1, 1980</span><span class="delimiter">&quot;</span></span>)) {
      alert(<span class="string"><span class="delimiter">&quot;</span><span class="content">Sorry, you need a time machine to enter this route.</span><span class="delimiter">&quot;</span></span>);
      transition.abort();
    }
  }
});
</pre></td>
</tr></table>
</div></div><h3 class='anchorable-toc' id='toc_storing-and-retrying-a-transition'>Storing and Retrying a Transition</h3>
<p>Aborted transitions can be retried at a later time. A common use case
for this is having an authenticated route redirect the user to a login
page, and then redirecting them back to the authenticated route once
they&#39;ve logged in. </p>
<div class="highlight js "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
<strong>10</strong>
11
12
13
14
15
16
17
18
19
<strong>20</strong>
21
22
23
24
25
</pre></td>
  <td class="code"><pre>App.SomeAuthenticatedRoute = Ember.Route.extend({
  <span class="function">beforeModel</span>: <span class="keyword">function</span>(transition) {
    <span class="keyword">if</span> (!<span class="local-variable">this</span>.controllerFor(<span class="string"><span class="delimiter">'</span><span class="content">auth</span><span class="delimiter">'</span></span>).get(<span class="string"><span class="delimiter">'</span><span class="content">userIsLoggedIn</span><span class="delimiter">'</span></span>)) {
      <span class="keyword">var</span> loginController = <span class="local-variable">this</span>.controllerFor(<span class="string"><span class="delimiter">'</span><span class="content">login</span><span class="delimiter">'</span></span>);
      loginController.set(<span class="string"><span class="delimiter">'</span><span class="content">previousTransition</span><span class="delimiter">'</span></span>, transition);
      <span class="local-variable">this</span>.transitionTo(<span class="string"><span class="delimiter">'</span><span class="content">login</span><span class="delimiter">'</span></span>);
    }
  }
});

App.LoginController = Ember.Controller.extend({
  <span class="key">actions</span>: {
    <span class="function">login</span>: <span class="keyword">function</span>() {
      <span class="comment">// Log the user in, then reattempt previous transition if it exists.</span>
      <span class="keyword">var</span> previousTransition = <span class="local-variable">this</span>.get(<span class="string"><span class="delimiter">'</span><span class="content">previousTransition</span><span class="delimiter">'</span></span>);
      <span class="keyword">if</span> (previousTransition) {
        <span class="local-variable">this</span>.set(<span class="string"><span class="delimiter">'</span><span class="content">previousTransition</span><span class="delimiter">'</span></span>, <span class="predefined-constant">null</span>);
        previousTransition.retry();
      } <span class="keyword">else</span> {
        <span class="comment">// Default back to homepage</span>
        <span class="local-variable">this</span>.transitionToRoute(<span class="string"><span class="delimiter">'</span><span class="content">index</span><span class="delimiter">'</span></span>);
      }
    }
  }
});
</pre></td>
</tr></table>
</div></div>
    
      <footer>
        
          <a class="previous-guide" href="/website-old-builds/v1.0.0/guides/routing/asynchronous-routing">
            ← Asynchronous Routing
          </a>
         
          <a class="next-guide" href="/website-old-builds/v1.0.0/guides/components">
             We're done with Routing. Next up: Components - Introduction →
          </a>
        
      </footer>
      
  </div>

      </div>
    </div>

    <div id="footer">
      <div id="footer-wrapper">
        <div class="info">
          Copyright 2013 <a href="http://tilde.io">Tilde Inc.</a><br>
          Design by <a href="http://www.heropixel.com">HeroPixel</a></br>
          <a href="/website-old-builds/v1.0.0/team">Core Team</a> | <a href="/website-old-builds/v1.0.0/sponsors">Project Sponsors</a>
        </div>
        <div class="statement">Ember.js is free, open source and always will be.</div>
        <div class="links">
          <a class="twitter" href="http://twitter.com/emberjs">Twitter</a>
          <a class="github" href="https://github.com/emberjs/ember.js">GitHub</a>
          <a class="googleplus" href="https://plus.google.com/communities/106387049790387471205">Google+</a>
        </div>
      </div>
    </div>
  </body>
</html>
